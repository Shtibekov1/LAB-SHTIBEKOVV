# Лабораторная работа №5 — Fetch, JSON и хранение данных в браузере

Автор: Штибеков Муслим Тимурович
Тема: Работа с сетью в браузере: Fetch API, формат JSON, асинхронные функции, AJAX-подход и хранение данных на стороне клиента.  
Цель: Научиться отправлять HTTP-запросы с помощью `fetch()`, обрабатывать ответы `Response`, работать с JSON и локальным хранилищем (`localStorage`), а также реализовывать пользовательский интерфейс с асинхронными операциями (галерея, отправка температуры, тосты, переключение темы).

---


---

## Описание проделанной работы

В рамках лабораторной работы была создана страница `index.html` с тремя основными компонентами:

1. **Тост-уведомления (Toast)**  
2. **Галерея изображений с загрузкой по сети**  
3. **Форма отправки температуры аудитории**  
4. **Переключение светлой/тёмной темы с использованием localStorage**

Каждый компонент работает асинхронно, оформлен в едином стиле и не вызывает ошибок ESLint и консоли.

---

# Вопросы для защиты (с ответами)

## 1. Определение и назначение AJAX
AJAX — подход, позволяющий обновлять данные на странице **без её полной перезагрузки**, отправляя запросы в фоне.  
Позволяет строить интерактивные интерфейсы.

---

## 2. Fetch API (функция и её параметры, используемые объекты)

`fetch(url, options)` — современный способ отправки HTTP‑запросов.  
Возвращает `Promise<Response>`.

Параметры `options`:
- `method`
- `headers`
- `body`
- `credentials`
- `mode`, `cache`, и др.

Используемые объекты:
- `Request`
- `Response`
- `Headers`

---

## 3. Объект Response. Его свойства и методы

Объект ответа от сервера.

Основные свойства:
- `ok`
- `status`
- `statusText`
- `url`
- `headers`

Основные методы (возвращают промис):
- `json()`
- `text()`
- `blob()`
- `arrayBuffer()`
- `formData()`

---

## 4. Формат JSON. Глобальный объект JSON и его методы

JSON — лёгкий текстовый формат обмена данными.

Методы:
- `JSON.stringify(obj)` — объект → JSON‑строка.
- `JSON.parse(text)` — JSON‑строка → объект.

Используется для передачи данных через `fetch()`.

---

## 5. Хранение данных на клиенте

Основные способы:
- cookies  
- `localStorage`
- `sessionStorage`
- IndexedDB  
- Cache Storage

В ЛР используется `localStorage` для хранения темы.

---

## 6. localStorage и sessionStorage. Разница, их методы

Одинаковый API:

- `setItem(key, value)`
- `getItem(key)`
- `removeItem(key)`
- `clear()`

Разница:

- **localStorage** — хранение навсегда (до очистки), общая область для всех вкладок.
- **sessionStorage** — работает только в рамках текущей вкладки.

---

## 7. Асинхронные функции async/await. Возвращаемые значения

`async` объявляет асинхронную функцию, которая всегда возвращает `Promise`.

`await` приостанавливает выполнение внутри функции до выполнения промиса.

Ошибки обрабатываются через `try/catch`.

---

## 8. Проблема “цветных” функций

Асинхронная функция (`async`) **всегда возвращает Promise**, поэтому все функции, которые её вызывают, тоже вынуждены становиться async.  
Это «окрашивает» стек вызовов — половина функций становится синхронной, половина асинхронной.  
Нужно чётко контролировать границу между ними.

---

